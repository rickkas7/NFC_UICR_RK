<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NFC_UICR_RK: NFC_UICR_RK Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NFC_UICR_RK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">NFC_UICR_RK Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class for updating the nRF52840 UICR bytes to disable NFC.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_n_f_c___u_i_c_r___r_k_8h_source.html">NFC_UICR_RK.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a6c45e41067a9cf6698e7dc454bd3a385" id="r_a6c45e41067a9cf6698e7dc454bd3a385"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c45e41067a9cf6698e7dc454bd3a385">disableNFC</a> ()</td></tr>
<tr class="memdesc:a6c45e41067a9cf6698e7dc454bd3a385"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable NFC it was previously enabled.  <br /></td></tr>
<tr class="separator:a6c45e41067a9cf6698e7dc454bd3a385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d1d618015f1bd3b3b093c061c8e490b" id="r_a4d1d618015f1bd3b3b093c061c8e490b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d1d618015f1bd3b3b093c061c8e490b">checkEnableNFC</a> ()</td></tr>
<tr class="memdesc:a4d1d618015f1bd3b3b093c061c8e490b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if NFC is enabled in the UICR bytes.  <br /></td></tr>
<tr class="separator:a4d1d618015f1bd3b3b093c061c8e490b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for updating the nRF52840 UICR bytes to disable NFC. </p>
<p>You will typically call <a class="el" href="#a6c45e41067a9cf6698e7dc454bd3a385" title="Disable NFC it was previously enabled.">NFC_UICR_RK::disableNFC()</a> to disable NFC on devices that have it enabled but you want to use the pins as GPIO. The E404X and Monitor One already have it disabled from the factory.</p>
<p>If the state of NFC is enabled it will be updated. There are caveats to this:</p><ul>
<li>You should make the call as close as possible to the beginning of setup()</li>
<li>Use SYSTEM_MODE(SEMI_AUTOMATIC)</li>
<li>Particle.connect() any time after calling one of the functions, or at the end of setup()</li>
<li>Don't enable BLE before calling one of these functions</li>
</ul>
<p>The reason is that if the UICR bits need to be updated, SoftDevice (BLE) needs to be disabled. It will also System.reset() after updating the bits. Because of this, there is a possibility that the code after enable() or disable() will never be executed.</p>
<p>There is no enableNFC()! This is because in order to reenable NFC mode, you must chip erase the device and flash both the UICR and enter system flash image to the device.</p>
<p>This calls only does anything on nRF52840 devices, but compiles on all platforms. The <a class="el" href="#a6c45e41067a9cf6698e7dc454bd3a385" title="Disable NFC it was previously enabled.">disableNFC()</a> function is a no-op, and <a class="el" href="#a4d1d618015f1bd3b3b093c061c8e490b" title="Returns true if NFC is enabled in the UICR bytes.">checkEnableNFC()</a> always returns false on other platforms. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a4d1d618015f1bd3b3b093c061c8e490b" name="a4d1d618015f1bd3b3b093c061c8e490b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d1d618015f1bd3b3b093c061c8e490b">&#9670;&#160;</a></span>checkEnableNFC()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool NFC_UICR_RK::checkEnableNFC </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if NFC is enabled in the UICR bytes. </p>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

</div>
</div>
<a id="a6c45e41067a9cf6698e7dc454bd3a385" name="a6c45e41067a9cf6698e7dc454bd3a385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c45e41067a9cf6698e7dc454bd3a385">&#9670;&#160;</a></span>disableNFC()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void NFC_UICR_RK::disableNFC </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disable NFC it was previously enabled. </p>
<p>If it was enabled, the state will be set to disabled and the device will reboot.</p>
<p>If NFC was already disabled, the function will return immediately so your code can continue executing.</p>
<p>Note: You can only reenable NFC by chip erase and reprogram with a SWD programmer! </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_n_f_c___u_i_c_r___r_k_8h_source.html">NFC_UICR_RK.h</a></li>
<li>src/<b>NFC_UICR_RK.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
